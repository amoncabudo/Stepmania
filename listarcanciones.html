<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Canciones</title>
    <link rel="stylesheet" href="src/CSS/style.css">
</head>
<body>
    <header class="header">
        <a href="listarcanciones.html" class="logo">ᚠ</a>
        <a href="index.html" class="home-button"><ion-icon name="home"></ion-icon></a>
    </header>

   <!-- Contenedor exclusivo para la playlist -->
   <div id="playlist-container">
    <section id="play-song-list">
     
<div id="songList"></div>

<script>
    // Función para generar colores aleatorios
    function getRandomColor() {
        const colors = ['green', 'yellow', 'red', 'blue', 'purple', 'orange', 'pink'];
        return colors[Math.floor(Math.random() * colors.length)];
    }

    // Función para generar un número aleatorio de círculos
    function getRandomCircles() {
        const circles = [];
        const numCircles = Math.floor(Math.random() * 4) + 1;  // Genera entre 1 y 4 círculos
        for (let i = 0; i < numCircles; i++) {
            const circle = document.createElement('span');
            circle.classList.add('circle');
            circle.style.backgroundColor = getRandomColor();  // Asigna un color aleatorio
            circles.push(circle);
        }
        return circles;
    }

    fetch('src/PHP/playlist.json')
    .then(response => response.json())
    .then(data => {
        const songList = document.getElementById('play-song-list');

        data.forEach(cancion => {
            // Crear el contenedor principal con la clase adecuada
            const songItem = document.createElement('div');
            songItem.classList.add('play-song-item');

            // Verificar la ruta a la carátula
            const caratulaPath = 'src/PHP/' + cancion.archivoCaratula;

            // Establecer la carátula como fondo del elemento principal
            songItem.style.backgroundImage = `url('${caratulaPath}')`;

            // Añadir la imagen de la carátula con la clase adecuada
            const caratula = document.createElement('img');
            caratula.src = caratulaPath;
            caratula.alt = `Carátula de ${cancion.titulo}`;
            caratula.classList.add('song-img');  // Aplicar la clase CSS

            // Crear el contenedor de información de la canción
            const songInfo = document.createElement('div');
            songInfo.classList.add('play-song-info');
            songInfo.innerHTML = `
                <h2>${cancion.titulo}</h2>
                <p>by ${cancion.artista}</p>
            `;

            // Añadir la imagen y el texto al contenedor principal
            songItem.appendChild(caratula);
            songItem.appendChild(songInfo);

            // Añadir la nueva canción al listado
            songList.appendChild(songItem);
        });
    })
    .catch(error => console.error('Error al cargar el JSON:', error));


</script>


    <script type="module" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.js"></script>
</body>
</html>
